package tests.penTests;

import entities.Pen;
import tests.penTests.data.PenTestData;
import org.testng.Assert;
import org.testng.annotations.AfterMethod;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.Test;

import java.io.ByteArrayOutputStream;
import java.io.PrintStream;


public class PenTestDoSomethingElse {
    private final ByteArrayOutputStream outContent = new ByteArrayOutputStream();

    @BeforeMethod
    public void setUp() {
        System.setOut(new PrintStream(outContent));
    }

    @AfterMethod
    public void tearDown() {
        System.setOut(System.out);
    }

    @Test(dataProviderClass = PenTestData.class, dataProvider = "getColorMethodData")
    public void testDoSomethingElse(String color) {
        Pen pen = new Pen(PenTestData.anyValidInkContainerValue, PenTestData.anyValidSizeLetter, color);

        pen.doSomethingElse();

        String consoleOutput = outContent.toString().trim();

        Assert.assertTrue(consoleOutput.contains(color));
    }

}
